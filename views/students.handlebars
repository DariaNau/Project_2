<div class="wrapper">

    <!-- Sidebar -->
    <nav id="sidebar">
        <div id="dismiss">
            <i class="fas fa-arrow-left"></i>
        </div>

        <div class="sidebar-header">
            <h2>tutorMe</h2>
        </div>

        <ul class="list-unstyled components">
            <h4 class="filter-header">Filter Options:</h4>
            <li>
                <a href="#classesSubmenu" data-toggle="collapse" aria-expanded="false"
                    class="dropdown-toggle">Classes:</a>
                <ul class="collapse list-unstyled" id="classesSubmenu">
                    <li>
                        <a href="#">My Classes</a>
                    </li>
                    <li>
                        <a href="#">All Classes</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#durationSubmenu" data-toggle="collapse" aria-expanded="false"
                    class="dropdown-toggle">Duration:</a>
                <ul class="collapse list-unstyled" id="durationSubmenu">
                    <li>
                        <a href="#">Less than 30 min</a>
                    </li>
                    <li>
                        <a href="#">Less than 60 min</a>
                    </li>
                    <li>
                        <a href="#">Over 60 min </a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#priceSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Price:</a>
                <ul class="collapse list-unstyled" id="priceSubmenu">
                    <li>
                        <a href="#">FREE</a>
                    </li>
                    <li>
                        <a href="#">Less than $25</a>
                    </li>
                    <li>
                        <a href="#">Less than $50</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#instructorsSubmenu" data-toggle="collapse" aria-expanded="false"
                    class="dropdown-toggle">Instructors:</a>
                <ul class="collapse list-unstyled" id="instructorsSubmenu">
                    <li>
                        <a href="#">James</a>
                    </li>
                    <li>
                        <a href="#">Peter</a>
                    </li>
                    <li>
                        <a href="#">Jack</a>
                    </li>
                </ul>
            </li>
        </ul>

        <ul class="list-unstyled CTAs">
            <li>
                <a href="" class="settings">Apply Settings</a>
            </li>
            <li>
                <a href="" class="clear">Clear Settings</a>
            </li>
        </ul>

    </nav>


    <div class="container-fluid" id="content">

        <nav class="navbar navbar-expand-md navbar-light bg-light ">
            <div class="container-fluid">

                <a class="navbar-brand" href="#"><img src="">
                    <h2>handlebars</h2>
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="/logout">Logout</a>
                        </li>
                    </ul>

                </div>

            </div>
        </nav>

        <div class="classes-view">

            <div class="classes-header">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <div class="container-fluid">
                        <h2><span class="instructor-name"></span>'s Classes</h2>

                        <nav>
                            <button type="button" id="sidebarCollapse" class="btn btn-info">
                                <i class="fas fa-align-left"></i>
                                <span>Filter Clases</span>
                            </button>
                        </nav>

                    </div>
                </nav>
            </div>

            <div class="container classes-view">

                {{#each classes}}

                <div class="card">
                    <h5 class="card-header">{{topic}}</h5>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <p class="card-text">What you'll learn: {{description}}</p>
                            <br>
                            {{!-- the line below will be visible only for getting all classes from all instructors --}}
                            {{!-- maybe link instructor name to instructor's profile page --}}
                            <li class="list-group-item">
                                <h5 class="card-title">Instructor: {{InstructorId}}</h5>
                            </li>
                            <li class="list-group-item">Date and Time: {{datetime}}</li>
                            <li class="list-group-item">Duration: {{duration}} minutes</li>
                            <li class="list-group-item">Capacity: {{capacity}} people</li>
                            <li class="list-group-item">Price: ${{price}}</li>
                        </ul>
                        <button type="button" class="btn btn-primary view-class" data-toggle="modal"
                            data-target="#classDetails" data-class-id={{id}} data-backdrop="static"
                            data-keyboard="false">
                            View Class
                        </button>

                        {{!-- add a modal here to doublecheck user's click on delete button --}}
                    </div>
                </div>

                {{else}}
                <p>No classes available at the moment.</p>
                {{!-- <a href="#" class="btn btn-primary">New class</a> --}}
                {{/each}}
            </div>

        </div>

        <footer>
            <div class="container-fluid padding">
                <div class="row text-center">
                    <div class="col-md-4">
                        <h4>Resources</h4>
                        <hr class="light">
                        <a href="https://www.github.com/" target="_blank"><i class="fab fa-github fa-3x"></i></a>
                        <a href="https://www.youtube.com/" target="_blank"><i class="fab fa-youtube fa-3x"></i></a>
                        <a href="https://stackoverflow.com" target="_blank"><i
                                class="fab fa-stack-overflow fa-3x"></i></a>
                        <a href="https://getbootstrap.com" target="_blank"><i class="fab fa-bootstrap fa-3x"></i></a>
                        <a href="https://www.google.com/" target="_blank"><i class="fab fa-google fa-3x"></i></a>
                        <!-- neet to rplace with w3schools or delete 
                                        <i class="fab fa-github fa-3x"></i> -->

                    </div>
                    <div class="col-md-4">
                        <h4>Location</h4>
                        <hr class="light">
                        <p>Full-stack Flex Bootcamp</p>
                        <p>Georgia, Tech</p>
                        <p>Atlanta, GA</p>
                        <p>30308</p>
                    </div>
                    <div class="col-md-4">
                        <h4>Support</h4>
                        <hr class="light">
                        <p>tutorme.supoort@goodquestion.org</p>
                    </div>
                    <div class="col-12">
                        <hr class="light">
                        <h4>&copy; tutorme.com</h4>
                    </div>
                </div>

            </div>
        </footer>

    </div>


</div>


<div class="overlay"></div>

<!-- footer -->

{{!-- View Class Details Modal --}}

<div class="modal fade bd-example-modal-lg-1" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
    aria-hidden="true" id="classDetails">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <!-- Login Modal Content -->

            <div class="modal-header">
                <h5 class="modal-title">Class Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="view-x-btn">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="all-class-details">
                    {{#each classes}}
                    <div class="card class-detail" id="class-{{id}}">
                        <h5 class="card-header">{{topic}}</h5>
                        <div class="card-body">
                            <ul class="list-group list-group-flush">
                                <p class="card-text">What you'll learn: {{description}}</p>
                                <br>
                                {{!-- the line below will be visible only for getting all classes from all instructors --}}
                                {{!-- maybe link instructor name to instructor's profile page --}}
                                <li class="list-group-item">
                                    <h5 class="card-title">Instructor: {{InstructorId}}</h5>
                                </li>
                                <li class="list-group-item">Date and Time: {{datetime}}</li>
                                <li class="list-group-item">Class Duration: {{duration}} minutes</li>
                                <li class="list-group-item">Class Capacity: {{capacity}} people</li>
                                <li class="list-group-item">Price: {{price}}</li>
                            </ul>

                        </div>
                    </div>
                    {{/each}}
                </div>

                {{!-- add a modal here to doublecheck user's click on delete button --}}
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary add-class-btn">Add this class</button>
                    <a href="mailto:{{instructEmail}}" class="btn btn-danger">Email instructor</a>

                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                        id="details-close-btn">Close</button>
                    {{!-- <button type="submit" form="l" class="btn btn-default">Login</button> --}}
                </div>

            </div>

        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $("#sidebar").mCustomScrollbar({
            theme: "minimal"
        });

        $('#dismiss, .overlay').on('click', function () {
            $('#sidebar').removeClass('active');
            $('.overlay').removeClass('active');
        });

        $('#sidebarCollapse').on('click', function () {
            $('#sidebar').addClass('active');
            $('.overlay').addClass('active');
            $('.collapse.in').toggleClass('in');
            $('a[aria-expanded=true]').attr('aria-expanded', 'false');
        });

        $(".view-class").on("click", function () {
            let classid = $(this).data("class-id");
            console.log(`#class-${classid}`);
            $(`#class-${classid}`).show();

            $(".add-class-btn").data("class-id", classid);

            $("#details-close-btn").on("click", function () {
                $(".add-class-btn").removeData("class-id");
                $(`#class-${classid}`).hide();
            });

            $("#view-x-btn").on("click", function () {
                $(".add-class-btn").removeData("class-id");
                $(`#class-${classid}`).hide();
            });
        });
    });
</script>

<script type="text/javascript" src="js/class.js"></script>
<script type="text/javascript" src="js/instructor.js"></script>
<script type="text/javascript" src="js/student.js"></script>